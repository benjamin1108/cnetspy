# 定时任务调度配置
# 使用 APScheduler + CronTrigger

scheduler:
  # 是否启用调度器
  enabled: true  # 默认禁用，启用后随 API 服务自动运行
  
  # 时区设置
  timezone: "Asia/Shanghai"
  
  # 任务配置
  jobs:
    # 每日爬取 + 分析（串联执行）
    daily_crawl_analyze:
      enabled: true
      cron: "0 8 * * *"  # 每天 08:00 执行
      vendors: []  # 空列表表示爬取所有厂商
      auto_analyze: true  # 爬取完成后自动分析
      notify_on_complete: true  # 完成后发送通知
      notify:  # 通知渠道
        - email
    
    # 周报生成
    weekly_report:
      enabled: true
      cron: "0 9 * * 1"  # 每周一 09:00 执行
      notify:
        - dingtalk
    
    # 月报生成
    monthly_report:
      enabled: true
      cron: "0 9 1 * *"  # 每月 1 号 09:00 执行
      notify:
        - dingtalk
        - email
